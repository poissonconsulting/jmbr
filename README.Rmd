---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

[![Travis-CI Build Status](https://travis-ci.org/poissonconsulting/jmbr.svg?branch=master)](https://travis-ci.org/poissonconsulting/jmbr)
[![codecov](https://codecov.io/gh/poissonconsulting/jmbr/branch/master/graph/badge.svg)](https://codecov.io/gh/poissonconsulting/jmbr)

# jmbr

## Introduction

`jmbr` (pronounced jimber) is an R package to facilitate analyses using Just Another Gibbs Sampler (JAGS).

## Demonstration

```{r}
library(jmbr)
library(ggplot2)

data <- datasets::ToothGrowth

summary(lm(len ~ supp + dose , data = data))

jags_template <- "
  model{
    bdose ~ dnorm(0, 5^-2)
    for(i in 1:nsupp) {
      bsupp[i] ~ dnorm(15, 10^-2)
    }
    slen ~ dunif(0, 10)

    for(i in 1:length(supp)) {
      elen[i] <- bsupp[supp[i]] + dose[i] * bdose
      len[i] ~ dnorm(elen[i], slen^-2)
    }
  }
"

model <- model(mb_code(jags_template), monitor = "^b",
               new_expr = "for(i in 1:length(supp)) prediction[i] <- bsupp[supp[i]] + dose[i] * bdose")

analysis <- analyse(model, data = data)
analysis <- reanalyse(analysis)

convergence(analysis)
coef(analysis)
estimates(analysis)

plot(analysis)

len <- predict(analysis, new_data = unique(data[c("supp", "dose")]))

ggplot(data = len, aes(x = dose, y = estimate)) +
  facet_wrap(~supp) +
  geom_pointrange(aes(ymin = lower, ymax = upper))

```

## Installation

To install from GitHub
```
# install.packages("devtools")
devtools::install_github("poissonconsulting/jmbr")
```

## Contribution

Please report any [issues](https://github.com/poissonconsulting/jmbr/issues).

[Pull requests](https://github.com/poissonconsulting/jmbr/pulls) are always welcome.

Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.

## Inspiration

- [jaggernaut](https://github.com/poissonconsulting/jaggernaut)
